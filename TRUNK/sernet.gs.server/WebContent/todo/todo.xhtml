<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:o="http://openfaces.org/"
      template="/template.xhtml">
	<ui:define name="content">
		<div id="main">
			<!--###main### begin -->
			<div id="teaser" class="clearfix">
				<div class="block1">Sie sind hier:&nbsp;verinice Anwendung&nbsp;|&nbsp;ToDo List</div>
				<div class="langMenu"><img class="arrow" src="fileadmin/img/arrow.gif" width="7" height="10" alt="" /><img class="flag" src="fileadmin/img/flag_de.gif" width="20" height="12" alt="Deutsch" title="Deutsch" /><img class="flag" src="fileadmin/img/flag_uk_d.gif" width="20" height="12" alt="English" title="English - not available yet" /><img class="flag" src="fileadmin/img/flag_fr_d.gif" width="20" height="12" alt="Francais" title="Francais - ne pas encore disponible" /></div>
				<div class="selectFontSize"><script type="text/javascript">if (efa_fontSize) document.write(efa_fontSize.allLinks);</script></div>
			</div>
		
			<!-- #col1: Erste Float-Spalte des Inhaltsbereiches -->
			<div id="col1">
				<!--###col1### begin -->
				<div id="col1_content" class="clearfix"><h1>Verbund</h1>
					<div class="mainMenu">
						<h:form id="verbundForm">
							<ul>
						  		<o:forEach id="itVerbundList" items="#{toDo.itVerbundList}" var="itVerbund">
						  			<li>
								  		<a4j:commandLink value="#{itVerbund.titel}" action="#{toDo.loadToDoList}" reRender="toDoTable,toDoPaginator,itVerbundList,editHeading,editForm" styleClass="#{itVerbund.dbId==toDo.selectedItVerbund.dbId ? 'selected' : 'normal'}">
								            <a4j:actionparam name="itVerbundTitel" value="#{itVerbund.titel}" assignTo="#{toDo.selectedItVerbundTitel}"/>
								        </a4j:commandLink>
								    </li>
							    </o:forEach>
							</ul>
							<h1>Umsetzung</h1>
							<ul>
					  			<li>
							  		<o:selectBooleanCheckbox id="executionNo" value="#{toDo.executionNo}" />
							  		<h:outputLabel for="executionNo" value="Nein"/>
							  	</li>
							  	<li>
								    <o:selectBooleanCheckbox id="executionYes" value="#{toDo.executionYes}" />
							  		<h:outputLabel for="executionNo" value="Ja"/>
							  	</li>
							  	<li>
								    <o:selectBooleanCheckbox id="executionPartly" value="#{toDo.executionPartly}" />
							  		<h:outputLabel for="executionNo" value="Teilweise"/>
							  	</li>
							  	<li>
								    <o:selectBooleanCheckbox id="executionDispensable" value="#{toDo.executionDispensable}" />
							  		<h:outputLabel for="executionNo" value="Entbehrlich"/>
							  	</li>
							  	<li>					    
								    <o:selectBooleanCheckbox id="executionUntreated" value="#{toDo.executionUntreated}" />
							  		<h:outputLabel for="executionNo" value="Unbearbeitet"/>						    
							    </li>
							</ul>
							<h1>Siegelstufe</h1>
							<ul>
					  			<li>
							  		<o:selectBooleanCheckbox id="sealA" value="#{toDo.sealA}" />
							  		<h:outputLabel for="sealA" value="A"/>
							  	</li>
							  	<li>
								    <o:selectBooleanCheckbox id="sealB" value="#{toDo.sealB}" />
							  		<h:outputLabel for="sealB" value="B"/>
							  	</li>
							  	<li>
								    <o:selectBooleanCheckbox id="sealC" value="#{toDo.sealC}" />
							  		<h:outputLabel for="sealC" value="C"/>
							  	</li>
							  	<li>
								    <o:selectBooleanCheckbox id="sealZ" value="#{toDo.sealZ}" />
							  		<h:outputLabel for="sealZ" value="Z"/>
							  	</li>
							</ul>
						  	<a4j:commandButton id="loadTable" value="Todos laden" action="#{toDo.loadToDoList}" reRender="toDoTable,toDoPaginator" styleClass="submit"/>
					  	</h:form>
					</div>
				</div>
			 	<!--###col1### end -->
			</div>
			<!-- #col1: - Ende -->
		
			<a id="content" name="content"></a> <!-- Skiplink-Anker: Content -->
			<!-- #col3: Statische Spalte des Inhaltsbereiches -->
			<div id="col3">
				<!--###col3### begin -->
		      	<div id="col3_content" class="clearfix">
		      		<!--###col3_content### begin -->
		      		<div id="col3_innen" class="floatbox"><a id="c86"></a>
		      			<a4j:outputPanel id="editHeading" rendered="#{toDo.massnahmeUmsetzung!=null}">
		      				<h1 class="csc-firstHeader">Massnahme</h1>
		      			</a4j:outputPanel>
			      		<div class="csc-textpic-text">
			      			<a4j:form id="editForm" rendered="#{toDo.massnahmeUmsetzung!=null}">
								<a4j:outputPanel id="editPanel">
									<h:panelGrid id="panel" columns="2">
										<f:facet name="header">
										  <h:outputText value="#{toDo.massnahmeUmsetzung.titel}"/>
										</f:facet>
										<h:outputLabel for="umsetzung" value="Umsetzung" styleClass="formLabel"/>
										<o:dropDownField value="#{toDo.umsetzung}" converter="#{toDo.umsetzungConverter}" styleClass="formElement">
				  							<o:dropDownItems value="#{toDo.executionList}"/>
				  						</o:dropDownField>					
										<h:outputLabel for="umsetzungBis" value="Umsetzung bis" styleClass="formLabel"/>
										<o:dateChooser id="umsetzungBis" value="#{toDo.massnahmeUmsetzung.umsetzungBis}" pattern="EEE, d.M.yyyy" styleClass="formElement"/>
										<h:outputLabel for="submit" value="" />
										<a4j:commandButton id="submit" value="Speichern" action="#{toDo.save}" reRender="toDoTable" styleClass="formElement"/>
									</h:panelGrid>
								</a4j:outputPanel>
							</a4j:form>
							<div class="csc-header csc-header-n1">
			      				<h1 class="csc-firstHeader">ToDos</h1>
			      			</div>
			      			<h:form id="tableForm">
								<o:dataTable 
									id="toDoTable" 
									var="item" 
									value="#{toDo.todoList}" 
									useAjax="true" 
									sortColumnId="umsetzung"
									bodyOddRowClass="oddRow">
									<o:singleRowSelection rowData="#{toDo.selectedItem}" action="#{toDo.loadToDo}" styleClass="selected"/>					
									<f:facet name="noDataMessage">
										<h:outputText value="Bitte wählen Sie einen It-Verbund aus." />
									</f:facet>
									<o:column id="umsetzung" sortingExpression="#{item.umsetzung}">
									    <h:graphicImage url="/image/icon/#{item.umsetzungIcon}" />
									</o:column>
									<o:column id="umsetzungBis" sortingExpression="#{item.umsetzungBis}">
										<f:facet name="header">
									    	<h:outputText value="Fälligkeit" />
									    </f:facet>
									    <h:outputText value="#{item.umsetzungBis}">
									    	<f:convertDateTime dateStyle="short" type="date" />
									    </h:outputText>
									</o:column>
									<o:column id="umsetzungDurch" sortingExpression="#{item.umsetzungDurch}" sortingComparator="caseInsensitiveText">
										<f:facet name="header">
									    	<h:outputText value="Verantwortlich" />
									    </f:facet>
									    <h:outputText value="#{item.umsetzungDurch}"/>
									</o:column>
									<o:column id="stufe" sortingExpression="#{item.stufe}" >
										<f:facet name="header">
									    	<h:outputText value="S" />
									    </f:facet>
									    <h:outputText value="#{item.stufe}"/>
									</o:column>
									<o:column id="parentTitle" sortingExpression="#{item.parentTitle}" sortingComparator="caseInsensitiveText">
										<f:facet name="header">
									    	<h:outputText value="Zielobjekt" />
									    </f:facet>
									    <h:outputText value="#{item.parentTitle}"/>
									</o:column>
									<o:column id="titel" sortingExpression="#{item.titel}" sortingComparator="caseInsensitiveText">
										<f:facet name="header">
									    	<h:outputText value="Titel" />
									    </f:facet>
									    <h:outputText value="#{item.titel}"/>			    	
									</o:column>
								</o:dataTable>
							</h:form>
			      		</div>
			    	</div>
					<!--###col3_content### end -->
				</div>
				<!-- IE Column Clearing -->
				<div id="ie_clearing"><!--###ie_clearing### begin -->&nbsp;<!--###ie_clearing### end --></div>
				<!-- Ende: IE Column Clearing -->
		    	<!--###col3### end -->
		    </div>
			<!-- #col3: - Ende -->
			<!--###main### end -->
		</div>
	</ui:define>
</ui:composition>